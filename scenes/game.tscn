[gd_scene load_steps=18 format=4 uid="uid://cg54nfilba6ij"]

[ext_resource type="PackedScene" uid="uid://dg6tbf8uavjqm" path="res://scenes/player.tscn" id="1_uwrxv"]
[ext_resource type="Script" uid="uid://bs11g523nrrfd" path="res://scripts/player_health_ui.gd" id="2_lnu2h"]
[ext_resource type="Script" uid="uid://do34yctou3plv" path="res://scripts/meteorite_spawner.gd" id="3_lnu2h"]
[ext_resource type="Texture2D" uid="uid://bomeu7eehohu6" path="res://assets/loot/enchantment gap (10px).png" id="5_0tnpc"]
[ext_resource type="Texture2D" uid="uid://uxadml48tp25" path="res://assets/locationDesign/decoration.png" id="5_gee14"]
[ext_resource type="Texture2D" uid="uid://cj6xrd7rqs2ia" path="res://assets/locationDesign/floor.png" id="6_0tnpc"]
[ext_resource type="Texture2D" uid="uid://bpjkisxi0nyvl" path="res://assets/locationDesign/wall main.png" id="7_vtaks"]
[ext_resource type="Texture2D" uid="uid://0virl05qr8xg" path="res://assets/locationDesign/wall.png" id="8_kvpfn"]
[ext_resource type="PackedScene" uid="uid://dp24jsuhattth" path="res://scenes/meteorite.tscn" id="9_vtaks"]
[ext_resource type="PackedScene" uid="uid://dhjye6seei1yx" path="res://scenes/meteorite_2.tscn" id="10_kvpfn"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_dinhu"]
texture = ExtResource("5_gee14")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
3:1/0 = 0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
2:2/0 = 0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
3:2/0 = 0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_kvuet"]
texture = ExtResource("6_0tnpc")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_trtic"]
texture = ExtResource("7_vtaks")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
4:0/0 = 0
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ir15t"]
texture = ExtResource("8_kvpfn")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
4:0/0 = 0
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
3:1/0 = 0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
4:1/0 = 0
4:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
2:2/0 = 0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
3:2/0 = 0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
4:2/0 = 0
4:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)

[sub_resource type="TileSet" id="TileSet_ca42v"]
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 0
sources/0 = SubResource("TileSetAtlasSource_dinhu")
sources/1 = SubResource("TileSetAtlasSource_kvuet")
sources/2 = SubResource("TileSetAtlasSource_trtic")
sources/3 = SubResource("TileSetAtlasSource_ir15t")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_vtaks"]
texture = ExtResource("5_0tnpc")
separation = Vector2i(10, 0)
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
5:0/0 = 0
4:0/0 = 0

[sub_resource type="TileSet" id="TileSet_kvpfn"]
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 2
physics_layer_0/collision_mask = 0
sources/0 = SubResource("TileSetAtlasSource_vtaks")

[node name="Game" type="Node2D"]

[node name="GameOverScreen" type="CanvasLayer" parent="."]
visible = false

[node name="Label" type="Label" parent="GameOverScreen"]
z_index = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -212.5
offset_top = -38.5
offset_right = 212.5
offset_bottom = 38.5
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(1, 0, 0, 1)
theme_override_font_sizes/font_size = 56
text = "Игра окончена"
horizontal_alignment = 1
vertical_alignment = 1
metadata/_edit_use_anchors_ = true

[node name="ColorRect" type="ColorRect" parent="GameOverScreen"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)
metadata/_edit_use_anchors_ = true

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAP//AQAAAAAAAAD/////AQAAAAAAAAD//wAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAP7/AQAAAAAAAAD///7/AQAAAAAAAAAAAAEAAQAAAAAAAAD//wEAAQAAAAAAAAAAAAIAAQAAAAAAAAD//wIAAQAAAAAAAAD//wMAAQAAAAAAAAAAAAMAAQAAAAAAAAAAAAQAAQAAAAIAAAD//wQAAgABAAAAAAD+/wQAAgACAAAAAAD9/wQAAgACAAAAAAD8/wQAAgACAAAAAAD7/wQAAgACAAAAAAD6/wQAAgACAAAAAAD5/wQAAgACAAAAAAD4/wQAAgACAAAAAAD3/wQAAgABAAAAAAD3/wMAAgACAAAAAGD3/wIAAgACAAAAAGD3/wEAAgACAAAAAGD3/wAAAgABAAAAAAD3////AgACAAAAAGD3//7/AgACAAAAAGD3//3/AgACAAAAAGD3//z/AgACAAAAAGD3//v/AgABAAAAAAD4//v/AgACAAAAAAD5//v/AgABAAAAAAD6//v/AgACAAAAAAD7//v/AgACAAAAAAD8//v/AgAAAAAAAAD9//v/AgACAAAAAAD+//v/AgACAAAAAAD///v/AgACAAAAAAAAAPv/AgACAAAAAAABAPv/AgACAAAAAAACAPv/AgACAAAAAAADAPv/AgAAAAAAAAAEAPv/AgACAAAAAAAFAPv/AgACAAAAAAAGAPv/AgACAAAAAAAHAPv/AgACAAAAAAAIAPv/AgABAAAAAAAIAPz/AgACAAAAAGAIAP3/AgACAAAAAGAIAP7/AgABAAAAAAAIAP//AgACAAAAAGAIAAAAAgACAAAAAGAIAAEAAAADAAAAAAAIAAIAAgACAAAAAGAIAAMAAgACAAAAAGAIAAQAAgABAAAAAAAHAAQAAgACAAAAAAAGAAQAAgACAAAAAAAFAAQAAgACAAAAAAAEAAQAAgACAAAAAAADAAQAAgACAAAAAAACAAQAAgACAAAAAAABAAQAAgABAAAAAAAHAP7/AgACAAAAAAAGAP7/AAACAAAAAAAFAP7/AgACAAAAAAAEAP7/AgACAAAAAAADAP7/AgACAAAAAAACAP7/AgABAAAAAAACAP//AgACAAAAAGACAAAAAgACAAAAAGACAAEAAgABAAAAAAADAAEAAgACAAAAAAAEAAEAAgACAAAAAAAFAAEAAgACAAAAAAAGAAEAAgACAAAAAAADAP//AQAAAAAAAAAEAP//AQAAAAAAAAAFAP//AQAAAAAAAAAGAP//AQAAAAAAAAAHAP//AQAAAAAAAAAHAAAAAQAAAAAAAAAGAAAAAQAAAAAAAAAFAAAAAQAAAAAAAAAEAAAAAQAAAAAAAAADAAAAAQAAAAAAAAAHAAEAAQAAAAAAAAAHAAIAAQAAAAAAAAAHAAMAAQAAAAAAAAAGAAMAAQAAAAAAAAAFAAMAAQAAAAAAAAAEAAMAAQAAAAAAAAADAAMAAQAAAAAAAAACAAMAAQAAAAAAAAABAAMAAQAAAAAAAAABAAIAAQAAAAAAAAACAAIAAQAAAAAAAAADAAIAAQAAAAAAAAAEAAIAAQAAAAAAAAAFAAIAAQAAAAAAAAAGAAIAAQAAAAAAAAABAAEAAQAAAAAAAAABAAAAAQAAAAAAAAABAP//AQAAAAAAAAABAP7/AQAAAAAAAAABAP3/AQAAAAAAAAACAP3/AQAAAAAAAAADAP3/AQAAAAAAAAAEAP3/AQAAAAAAAAAFAP3/AQAAAAAAAAAGAP3/AQAAAAAAAAAHAP3/AQAAAAAAAAAHAPz/AQAAAAAAAAAGAPz/AQAAAAAAAAAFAPz/AQAAAAAAAAAEAPz/AQAAAAAAAAADAPz/AQAAAAAAAAACAPz/AQAAAAAAAAABAPz/AQAAAAAAAAAAAPz/AQAAAAAAAAD///z/AQAAAAAAAAD///3/AQAAAAAAAAAAAP3/AQAAAAAAAAD+//z/AQAAAAAAAAD9//z/AQAAAAAAAAD8//z/AQAAAAAAAAD7//z/AQAAAAAAAAD6//z/AQAAAAAAAAD5//z/AgACAAAAAFD4//z/AQAAAAAAAAD4//3/AQAAAAAAAAD4//7/AQAAAAAAAAD4////AQAAAAAAAAD4/wAAAgACAAAAAAD4/wEAAQAAAAAAAAD4/wIAAQAAAAAAAAD4/wMAAQAAAAAAAAD5/wMAAQAAAAAAAAD6/wMAAQAAAAAAAAD7/wMAAQAAAAAAAAD8/wMAAQAAAAAAAAD9/wMAAQAAAAAAAAD+/wMAAQAAAAAAAAD+/wEAAQAAAAAAAAD+/wAAAQAAAAAAAAD+////AQAAAAAAAAD+//7/AQAAAAAAAAD+//3/AQAAAAAAAAD9//3/AQAAAAAAAAD8//3/AQAAAAAAAAD7//3/AQAAAAAAAAD6//3/AQAAAAAAAAD5//3/AgABAAAAAFD5//7/AQAAAAAAAAD5////AQAAAAAAAAD5/wAAAgACAAAAAAD5/wEAAQAAAAAAAAD5/wIAAQAAAAAAAAD6/wIAAQAAAAAAAAD7/wIAAQAAAAAAAAD8/wIAAQAAAAAAAAD9/wIAAQAAAAAAAAD9/wEAAQAAAAAAAAD9/wAAAQAAAAAAAAD9////AQAAAAAAAAD9//7/AQAAAAAAAAD8//7/AQAAAAAAAAD7//7/AgABAAAAAFD7////AgACAAAAAFD6////AQAAAAAAAAD6/wAAAgACAAAAAAD6//7/AQAAAAAAAAD6/wEAAQAAAAAAAAD7/wEAAQAAAAAAAAD8/wEAAQAAAAAAAAD8/wAAAQAAAAAAAAD8////AQAAAAAAAAD7/wAAAgABAAAAAFD+/wIAAQAAAAAAAAA=")
tile_set = SubResource("TileSet_ca42v")

[node name="TileMapLayer2" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAADAAAAAAAAAAAAAAD4//z/AAAEAAAAAAA=")
tile_set = SubResource("TileSet_kvpfn")

[node name="Player" parent="." groups=["player"] instance=ExtResource("1_uwrxv")]
unique_name_in_owner = true
position = Vector2(-30, 7)

[node name="PlayerHealthUi" type="Label" parent="Player"]
offset_left = -81.99999
offset_top = 18.0
offset_right = 74.00001
offset_bottom = 80.0
theme_override_font_sizes/font_size = 31
text = "10/10"
horizontal_alignment = 1
script = ExtResource("2_lnu2h")

[node name="Camera" type="Camera2D" parent="."]
unique_name_in_owner = true

[node name="MeteoriteSpawner" type="Node2D" parent="."]
visible = false
script = ExtResource("3_lnu2h")
meteor_scenes = Array[PackedScene]([ExtResource("9_vtaks"), ExtResource("10_kvpfn")])
